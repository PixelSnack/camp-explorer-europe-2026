@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --radius: 0.5rem;
}

/* Mobile-first optimizations */
@layer utilities {
  /* Ensure minimum touch target sizes for mobile accessibility (48px for iPhone 15) */
  .touch-target {
    min-height: 48px;
    min-width: 48px;
  }
  
  /* Prevent zoom on input focus for iOS */
  @media screen and (max-width: 768px) {
    input[type="text"],
    input[type="search"],
    select,
    textarea {
      font-size: 16px;
    }
  }
  
  /* Improve mobile scrolling performance */
  .smooth-scroll {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Better mobile button interactions */
  .mobile-button {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1);
    touch-action: manipulation;
  }
  
  /* Prevent horizontal scroll and viewport instability */
  .mobile-stable {
    overflow-x: clip; /* Modern alternative to hidden that doesn't break sticky */
    width: 100%;
    max-width: 100vw;
  }
  
  /* Enhanced mobile navigation */
  .mobile-nav-enhanced {
    backdrop-filter: blur(10px);
    background-color: rgba(255, 255, 255, 0.95);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }
  
  /* Sticky header following 2025 best practices */
  .sticky-header {
    position: sticky;
    top: 0;
    height: 56px; /* Mobile-first height */
    z-index: 1000;
    background-color: white;
    border-bottom: 1px solid #e5e7eb;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
    width: 100%;
  }
  
  /* Desktop header height */
  @media (min-width: 640px) {
    .sticky-header {
      height: 64px;
    }
  }
  
  
  /* Advanced Mobile Adaptations for iOS/Android 2025 */
  .sticky-header {
    /* iOS Safe Area Support */
    padding-top: env(safe-area-inset-top);
    padding-left: env(safe-area-inset-left);  
    padding-right: env(safe-area-inset-right);
  }
  
  @supports (-webkit-touch-callout: none) {
    /* iOS-specific optimizations */
    .ios-scroll-fix {
      -webkit-overflow-scrolling: touch;
      overflow-scrolling: touch;
    }
  }
  
  /* Android Chrome optimizations */
  @media screen and (max-width: 767px) {
    body {
      /* Prevent zoom on input focus */
      touch-action: manipulation;
      /* Better scrolling on Android */
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
    }
    
    /* Modern mobile input optimization */
    input, textarea, select {
      font-size: 16px; /* Prevent zoom on iOS */
    }
  }
  
  /* Safe area for PWA and full-screen experiences */
  .safe-area-content {
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  /* Hero section with 2025 dynamic viewport height - solves mobile UI adaptation */
  .hero-full-height {
    /* Dynamic height approach - let container grow to accommodate content */
    min-height: calc(100vh - 56px); /* Minimum viewport height, but can grow */
    /* Remove fixed height constraint to prevent content overflow */
  }
  
  /* Desktop hero height accounting for larger header */
  @media (min-width: 640px) {
    .hero-full-height {
      min-height: calc(100vh - 64px); /* Minimum viewport height, can grow for content */
    }
  }
  
  /* Modern mobile browsers: Dynamic Viewport Height (90.57% support 2025) */
  @supports (height: 100dvh) {
    .hero-full-height {
      min-height: calc(100dvh - 56px - env(safe-area-inset-top)); /* Minimum with safe area, can grow */
    }

    @media (min-width: 640px) {
      .hero-full-height {
        min-height: calc(100dvh - 64px - env(safe-area-inset-top)); /* Desktop minimum, can grow */
      }
    }
  }

  /* Alternative fallback using CSS Small Viewport Height for maximum compatibility */
  @supports (height: 100svh) and (not (height: 100dvh)) {
    .hero-full-height {
      min-height: calc(100svh - 56px - env(safe-area-inset-top)); /* Minimum small viewport, can grow */
    }

    @media (min-width: 640px) {
      .hero-full-height {
        min-height: calc(100svh - 64px - env(safe-area-inset-top)); /* Desktop minimum, can grow */
      }
    }
  }

  /* Adaptive Hero Content Layout - Dynamic height approach */
  .hero-adaptive-grid {
    display: grid;
    grid-template-rows: minmax(2rem, 1fr) auto minmax(4rem, 1fr); /* Flexible spacing, container grows */
    grid-template-columns: 1fr;
    align-items: start;
    justify-items: center;
    min-height: 100%; /* Minimum container height, can grow */
    width: 100%;
    padding: 0;
    box-sizing: border-box;
    /* Remove overflow hidden - container now grows to accommodate content */
  }
  
  /* Content positioning in the center grid area with smart spacing */
  .hero-adaptive-content {
    grid-row: 2;
    width: 100%;
    max-width: 1152px; /* max-w-6xl equivalent */
    margin: 0 auto;
    padding: 0 1rem; /* Simple, consistent horizontal padding */

    /* Ensure content never overflows available space */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;

    /* Prevent horizontal overflow with better approach */
    box-sizing: border-box;
    overflow-wrap: break-word;
    word-wrap: break-word;
    min-width: 0; /* Ensure flexbox child can shrink */

    /* Dynamic height - content can grow, container accommodates */
  }
  
  /* Responsive horizontal padding */
  @media (min-width: 640px) {
    .hero-adaptive-content {
      padding: 0 2rem;
    }
  }
  
  @media (min-width: 1024px) {
    .hero-adaptive-content {
      padding: 0 4rem;
    }
  }
  
  /* Responsive spacing adjustments for different screen heights */
  @media (max-height: 700px) {
    .hero-adaptive-grid {
      grid-template-rows: minmax(1rem, 0.8fr) auto minmax(3rem, 0.8fr); /* Maintain sufficient bottom space even on short screens */
    }
  }
  
  @media (min-height: 900px) {
    .hero-adaptive-grid {
      grid-template-rows: minmax(3rem, 1.2fr) auto minmax(5rem, 1.2fr); /* More generous spacing on tall screens */
    }
  }
  
  /* Ultra-wide screens: maintain proper proportions */
  @media (min-width: 1920px) and (min-height: 1200px) {
    .hero-adaptive-grid {
      grid-template-rows: minmax(4rem, 1.5fr) auto minmax(6rem, 1.4fr);
    }
    
    .hero-adaptive-content {
      max-width: 1400px; /* Larger max-width for ultra-wide screens */
      padding: 0 6rem;
    }
  }
  
  /* Reduce motion for accessibility */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* iOS/Android Platform-Compliant Fluid Typography - Self-Adaptive Mobile UX */

/* ENTERPRISE TYPOGRAPHY SYSTEM - Professional Responsive Design */
.section-title {
  font-size: clamp(2rem, 5vw, 3rem); /* 32-48px responsive for consistency */
  line-height: clamp(1.2, 1.3, 1.4);
  font-weight: 700;
  margin-bottom: clamp(1rem, 3vh, 1.5rem);
}

.section-subtitle {
  font-size: clamp(1.125rem, 3vw, 1.5rem); /* 18-24px responsive */
  line-height: clamp(1.4, 1.5, 1.6);
  font-weight: 400;
  margin-bottom: clamp(1.5rem, 4vh, 2rem);
}

.card-title {
  font-size: clamp(1.125rem, 2.5vw, 1.25rem); /* 18-20px responsive */
  line-height: 1.3;
  font-weight: 600;
}

.body-text {
  font-size: clamp(0.975rem, 2vw, 1.125rem); /* 15.6-18px responsive */
  line-height: clamp(1.5, 1.6, 1.7);
}

/* ENTERPRISE BUTTON HIERARCHY - Clear Action Priorities */
.btn-primary {
  background-color: theme('colors.orange.500');
  color: white;
  font-weight: 600;
  padding: clamp(12px, 2vw, 16px) clamp(24px, 4vw, 32px);
  border-radius: theme('borderRadius.lg');
  border: none;
  transition: all 0.2s ease;
  min-height: 48px; /* Touch-friendly */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.btn-primary:hover {
  background-color: theme('colors.orange.600');
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.btn-secondary {
  background-color: theme('colors.blue.600');
  color: white;
  font-weight: 600;
  padding: clamp(12px, 2vw, 16px) clamp(24px, 4vw, 32px);
  border-radius: theme('borderRadius.lg');
  border: none;
  transition: all 0.2s ease;
  min-height: 48px; /* Touch-friendly */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.btn-secondary:hover {
  background-color: theme('colors.blue.700');
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.btn-tertiary {
  border: 2px solid theme('colors.gray.300');
  color: theme('colors.gray.700');
  background: transparent;
  font-weight: 600;
  padding: clamp(10px, 2vw, 14px) clamp(22px, 4vw, 30px);
  border-radius: theme('borderRadius.lg');
  transition: all 0.2s ease;
  min-height: 48px; /* Touch-friendly */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.btn-tertiary:hover {
  border-color: theme('colors.blue.500');
  color: theme('colors.blue.600');
  background-color: theme('colors.blue.50');
}

/* HERO BUTTON VARIANT - For dark backgrounds */
.btn-hero-secondary {
  border: 2px solid white;
  color: white;
  background: transparent;
  font-weight: 600;
  padding: clamp(10px, 2vw, 14px) clamp(22px, 4vw, 30px);
  border-radius: theme('borderRadius.lg');
  transition: all 0.2s ease;
  min-height: 48px; /* Touch-friendly */
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.btn-hero-secondary:hover {
  border-color: white;
  color: theme('colors.gray.900');
  background-color: white;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

/* PHASE B ENHANCEMENTS - CAMP CARD OPTIMIZATION */

/* Enhanced Card Interactions - Premium Feel */
.camp-card {
  transition: all 0.3s ease;
  cursor: pointer;
}

.camp-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

/* Price Emphasis - Parent's #1 Decision Factor */
.camp-price {
  font-weight: 700;
  font-size: clamp(1.25rem, 3vw, 1.5rem); /* 20-24px responsive */
  line-height: 1.2;
  color: theme('colors.blue.600');
}

.camp-price-label {
  font-size: clamp(0.75rem, 1.5vw, 0.875rem); /* 12-14px responsive */
  font-weight: 500;
  color: theme('colors.gray.500');
}

/* Enhanced Information Hierarchy */
.camp-info-section {
  border-top: 1px solid theme('colors.gray.100');
  padding-top: 1rem;
  margin-top: 1rem;
}

/* Trust Signal Enhancement */
.trust-indicator {
  font-weight: 500;
  color: theme('colors.gray.600');
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.trust-indicator:hover {
  color: theme('colors.gray.800');
}

/* HERO TITLE - Special treatment for hero section */
.hero-fluid-title {
  font-size: clamp(1.5rem, 6vw, 3.5rem); /* Scales from 24px to 56px based on viewport width */
  line-height: clamp(1.2, 1.3, 1.4);
  margin-bottom: clamp(1.5rem, 4vh, 2rem); /* Maintains minimum 24px spacing */
}

.hero-fluid-subtitle {
  font-size: clamp(1rem, 4vw, 2rem); /* Scales from 16px to 32px */
  line-height: clamp(1.3, 1.4, 1.5);
  margin-bottom: clamp(0.5rem, 2vh, 1rem);
}

.hero-fluid-text {
  font-size: clamp(1rem, 2.5vw, 1.5rem); /* Scales from 16px to 24px */
  line-height: clamp(1.4, 1.5, 1.6);
  margin-bottom: clamp(2rem, 5vh, 2.5rem); /* Maintains minimum 32px spacing */
}

.hero-fluid-spacing {
  margin-bottom: clamp(3rem, 7vh, 4rem); /* Maintains minimum 48px button spacing */
}

/* RESPONSIVE BADGE SYSTEM - Touch-Optimized */
.badge-responsive {
  font-size: clamp(0.8125rem, 2vw, 0.925rem); /* 13-15px responsive */
  padding: clamp(6px, 1vw, 8px) clamp(12px, 2vw, 16px);
  min-height: 32px; /* Touch-friendly */
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: theme('borderRadius.md');
  font-weight: 500;
  line-height: 1.2;
}

.hero-fluid-badge {
  font-size: clamp(0.875rem, 2vw, 1rem); /* Badge text scales appropriately */
  padding: clamp(0.5rem, 1.5vw, 0.75rem) clamp(1rem, 3vw, 1.25rem);
  margin-bottom: clamp(1.5rem, 4vh, 2rem); /* Maintains minimum badge spacing */

  /* Enterprise Marquee System - State of the Art Mobile UX */
  position: relative;
  overflow: hidden;

  /* Desktop: Natural width (preserve perfect experience) */
  width: auto;
  max-width: none;
}

/* ENTERPRISE MARQUEE - CONDITIONAL MOBILE ACTIVATION */
.hero-fluid-badge.marquee-enabled {
  /* Mobile: Container constraints for marquee */
  max-width: calc(100vw - 2rem); /* Account for hero padding */
  width: 100%;
}

.hero-fluid-badge .marquee-content {
  /* Default: Static positioning */
  display: inline-block;
  white-space: nowrap;

  /* Performance optimization foundation */
  will-change: transform;
  backface-visibility: hidden;
  transform: translateZ(0);
}

/* MOBILE MARQUEE ANIMATION - iOS/ANDROID COMPLIANT */
.hero-fluid-badge.marquee-enabled .marquee-content {
  /* Enterprise animation parameters */
  animation: enterpriseMarquee 18s linear infinite;
  animation-play-state: running;

  /* iOS-style smooth motion with Android spring option */
  --ios-timing: linear;
  --android-timing: cubic-bezier(0.34, 1.56, 0.64, 1);
  animation-timing-function: var(--ios-timing);
}

@keyframes enterpriseMarquee {
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(-30%); /* Reduced from -100% for continuous flow */
  }
}

/* ACCESSIBILITY FIRST - PLATFORM STANDARD */
@media (prefers-reduced-motion: reduce) {
  .hero-fluid-badge.marquee-enabled .marquee-content {
    animation: none !important;
    transform: translateX(0) !important;

    /* Graceful fallback: Fade text edges for overflow indication */
    mask-image: linear-gradient(90deg, transparent, black 20px, black calc(100% - 20px), transparent);
    -webkit-mask-image: linear-gradient(90deg, transparent, black 20px, black calc(100% - 20px), transparent);
  }
}

/* USER CONTROL - ENTERPRISE UX STANDARD */
.hero-fluid-badge.marquee-enabled:hover .marquee-content,
.hero-fluid-badge.marquee-enabled:focus-within .marquee-content {
  animation-play-state: paused;
}

/* BATTERY OPTIMIZATION - MOBILE PERFORMANCE */
@media (max-width: 768px) {
  .hero-fluid-badge.marquee-enabled .marquee-content {
    /* Slower on mobile to preserve battery */
    animation-duration: 22s;
  }
}

/* ULTRA-SMOOTH RENDERING - 60FPS GUARANTEE */
.hero-fluid-badge.marquee-enabled {
  /* Hardware acceleration triggers */
  transform: translateZ(0);
  /* Prevent subpixel rendering issues */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ANDROID MATERIAL 3 EXPRESSIVE VARIANT (OPTIONAL) */
.hero-fluid-badge.marquee-enabled.material-motion .marquee-content {
  animation-timing-function: var(--android-timing);
  animation-duration: 16s; /* Slightly faster for springy feel */
}

/* RESPONSIVE BREAKPOINT BEHAVIOR */
@media (min-width: 769px) {
  /* Desktop: Force disable marquee regardless of JavaScript */
  .hero-fluid-badge.marquee-enabled {
    max-width: none;
    width: auto;
  }

  .hero-fluid-badge.marquee-enabled .marquee-content {
    animation: none !important;
    transform: translateX(0) !important;
  }
}
